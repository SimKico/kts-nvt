<div class="m-top p-grid p-mx-0 p-justify-center centered-grid">
    <div class="p-col-12 p-sm-12 p-md-12 p-lg-9 p-xl-9">
        <div class="p-card p-p-3">
            <div class="p-card colored-card p-grid p-p-3 p-mb-3">
                    <span class="p-col-12 p-sm-12 p-md-4 p-lg-4 p-xl-4 p-d-flex p-ai-center p-jc-center" *ngIf="!!user">
                        <ngx-avatar [size]="150" [name]="user.firstName + ' ' + user.lastName"></ngx-avatar>
                    </span>
                    <span class="p-col-12 p-sm-12 p-md-8 p-lg-8 p-xl-8 p-p-3 p-d-flex p-ai-center p-jc-center">
                        <p-table [value]="getFields()">
                            <ng-template pTemplate="body" let-field>
                                <tr>
                                    <td>{{field.name}}</td>
                                    <td>{{field.value}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </span>
            </div>
            <p-tabView>
                <p-tabPanel header="Change information">
                    <div class="p-p-0">
                        <form (ngSubmit)="updateName()">
                            <div class="p-card p-fluid p-p-3 p-mb-5">
                                <div class="p-mb-5">Update first name</div>
                                <div class="p-grid">
                                    <div class="p-col-12 p-sm-12 p-md-8 p-lg-8 p-xl-8">
                                        <span class="p-float-label">
                                            <input
                                                [formControl]="name"
                                                name="name"
                                                type="text"
                                                pInputText
                                                autocomplete="off"
                                                id="name"
                                            />
                                            <label for="name">New first name</label>

                                        </span>
                                    </div>
                                    <div class="p-col-12 p-sm-12 p-md-4 p-lg-4 p-xl-4">
                                        <button
                                            type="submit"
                                            class="p-button blue-button"
                                            label="Submit"
                                            pButton
                                        ></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form (ngSubmit)="updateLastName()">
                            <div class="p-card p-fluid p-p-3 p-mb-5">
                                <div class="p-mb-5">Update last name</div>
                                <div class="p-grid">
                                    <div class="p-col-12 p-sm-12 p-md-8 p-lg-8 p-xl-8">
                                        <span class="p-float-label">
                                            <input
                                                [formControl]="lastName"
                                                name="lastName"
                                                type="text"
                                                pInputText
                                                autocomplete="off"
                                                id="lastName"
                                            />
                                            <label for="lastName">New last name</label>
                                        </span>
                                    </div>
                                    <div class="p-col-12 p-sm-12 p-md-4 p-lg-4 p-xl-4">
                                        <button
                                            type="submit"
                                            class="p-button blue-button"
                                            label="Submit"
                                            pButton
                                        ></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form (ngSubmit)="updateEmail()">
                                <div class="p-card p-fluid p-p-3">
                                    <div class="p-mb-5">Update e-mail</div>
                                    <div class="p-grid">
                                        <div class="p-col-12 p-sm-12 p-md-8 p-lg-8 p-xl-8">
                                            <span class="p-float-label">
                                                <input
                                                    autocomplete="off"
                                                    [formControl]="email"
                                                    name="email"
                                                    email
                                                    type="text"
                                                    pInputText
                                                    id="email"
                                                />
                                                <label for="email">New e-mail</label>
                                            </span>
                                        </div>
                                        <div class="p-col-12 p-sm-12 p-md-4 p-lg-4 p-xl-4">
                                            <button
                                                type="submit"
                                                class="p-button blue-button"
                                                label="Submit"
                                                pButton
                                            ></button>
                                        </div>
                                    </div>
                                </div>
                        </form>
                    </div>
                </p-tabPanel>
                <p-tabPanel header="Change password">
                    <form (ngSubmit)="updatePassword()" >

                        <div class="p-fluid">
                            <div class="p-field p-my-5">
                                <span class="p-float-label">
                                    <input [formControl]="passwordControl"
                                           name="password" type="password"
                                           id="password"
                                           pInputText pPassword/>
                                    <label for="password">New password</label>
                                </span>
                            </div>
                            <div class="p-field p-mb-5">
                                <span class="p-float-label">
                                    <input [formControl]="confirmPasswordControl"
                                           name="confirmPassword"
                                           type="password"
                                           id="confirmPassword"
                                           [feedback]="false"
                                           pInputText pPassword/>
                                    <label for="confirmPassword">Confirm password</label>
                                </span>
                            </div>
                            <div class="p-flex-row-reverse">
                                <button type="submit"
                                    class="p-button blue-button"
                                    label="Submit"
                                    pButton
                                ></button>
                            </div>
                        </div>
                    </form>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
</div>
